<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libseccomp: How to Contribute to the libseccomp Project</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libseccomp
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">How to Contribute to the libseccomp Project </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://github.com/seccomp/libseccomp">https://github.com/seccomp/libseccomp</a></p>
<p>This document is intended to act as a guide to help you contribute to the libseccomp project. It is not perfect, and there will always be exceptions to the rules described here, but by following the instructions below you should have a much easier time getting your work merged with the upstream project.</p>
<h1><a class="anchor" id="autotoc_md0"></a>
Interacting with the Community</h1>
<blockquote class="doxtable">
<p>"Be excellent to each other." - <em>Bill S. Preston, Esq.</em> </p>
</blockquote>
<p>The libseccomp project aims to be a welcoming place and we ask that anyone who interacts with the project, and the greater community, treat each other with dignity and respect. Individuals who do not behave in such a manner will be warned and asked to adjust their behavior; in extreme cases the individual may be blocked from the project.</p>
<p>Examples of inappropriate behavior includes: profane, abusive, or prejudicial language directed at another person, vandalism (e.g. GitHub issue/PR "litter"), or spam.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Test Your Code Using Existing Tests</h1>
<p>There are three possible tests you can run to verify your code. The first test is used to check the formatting and coding style of your changes, you can run the test with the following command: </p><pre class="fragment"># make check-syntax
</pre><p> ... if there are any problems with your changes a diff/patch will be shown which indicates the problems and how to fix them.</p>
<p>The second possible test is used to ensure that the different internal syscall tables are consistent and to test your changes against the automated test suite. You can run the test with the following command: </p><pre class="fragment"># make check
</pre><p> ... if there are any faults or errors they will be displayed; beware that the tests can run for some time and produce a lot of output.</p>
<p>The third possible test is used to validate libseccomp against a live, running system using some simple regression tests. After ensuring that your system supports seccomp filters you can run the live tests with the following command: </p><pre class="fragment"># make check-build
# (cd tests; ./regression -T live)
</pre><p> ... if there are any faults or errors they will be displayed.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Add New Tests for New Functionality</h1>
<p>The libseccomp code includes a fairly extensive test suite and any submissions which add functionality, or significantly change the existing code, should include additional tests to verify the proper operation of the proposed changes.</p>
<p>Code coverage analysis tools have been integrated into the libseccomp code base, and can be enabled via the "--enable-code-coverage" configure flag and the "check-code-coverage" make target. Additional details on generating code coverage information can be found in the .travis.yml file.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Explain Your Work</h1>
<p>At the top of every patch you should include a description of the problem you are trying to solve, how you solved it, and why you chose the solution you implemented. If you are submitting a bug fix, it is also incredibly helpful if you can describe/include a reproducer for the problem in the description as well as instructions on how to test for the bug and verify that it has been fixed.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
Sign Your Work</h1>
<p>The sign-off is a simple line at the end of the patch description, which certifies that you wrote it or otherwise have the right to pass it on as an open-source patch. The "Developer's Certificate of Origin" pledge is taken from the Linux Kernel and the rules are pretty simple: </p><pre class="fragment">Developer's Certificate of Origin 1.1

By making a contribution to this project, I certify that:

(a) The contribution was created in whole or in part by me and I
    have the right to submit it under the open source license
    indicated in the file; or

(b) The contribution is based upon previous work that, to the best
    of my knowledge, is covered under an appropriate open source
    license and I have the right under that license to submit that
    work with modifications, whether created in whole or in part
    by me, under the same open source license (unless I am
    permitted to submit under a different license), as indicated
    in the file; or

(c) The contribution was provided directly to me by some other
    person who certified (a), (b) or (c) and I have not modified
    it.

(d) I understand and agree that this project and the contribution
    are public and that a record of the contribution (including all
    personal information I submit with it, including my sign-off) is
    maintained indefinitely and may be redistributed consistent with
    this project or the open source license(s) involved.
</pre><p> ... then you just add a line to the bottom of your patch description, with your real name, saying: </p><pre class="fragment">Signed-off-by: Random J Developer &lt;random@developer.example.org&gt;
</pre><p> You can add this to your commit description in <code>git</code> with <code>git commit -s</code></p>
<h1><a class="anchor" id="autotoc_md5"></a>
Post Your Patches Upstream</h1>
<p>The libseccomp project accepts both GitHub pull requests and patches sent via the mailing list. GitHub pull requests are preferred. This sections below explain how to contribute via either method. Please read each step and perform all steps that apply to your chosen contribution method.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
Submitting via Email</h2>
<p>Depending on how you decided to work with the libseccomp code base and what tools you are using there are different ways to generate your patch(es). However, regardless of what tools you use, you should always generate your patches using the "unified" diff/patch format and the patches should always apply to the libseccomp source tree using the following command from the top directory of the libseccomp sources: </p><pre class="fragment"># patch -p1 &lt; changes.patch
</pre><p> If you are not using git, stacked git (stgit), or some other tool which can generate patch files for you automatically, you may find the following command helpful in generating patches, where "libseccomp.orig/" is the unmodified source code directory and "libseccomp/" is the source code directory with your changes: </p><pre class="fragment"># diff -purN libseccomp.orig/ libseccomp/
</pre><p> When in doubt please generate your patch and try applying it to an unmodified copy of the libseccomp sources; if it fails for you, it will fail for the rest of us.</p>
<p>Finally, you will need to email your patches to the mailing list so they can be reviewed and potentially merged into the main libseccomp repository. When sending patches to the mailing list it is important to send your email in text form, no HTML mail please, and ensure that your email client does not mangle your patches. It should be possible to save your raw email to disk and apply it directly to the libseccomp source code; if that fails then you likely have a problem with your email client. When in doubt try a test first by sending yourself an email with your patch and attempting to apply the emailed patch to the libseccomp repository; if it fails for you, it will fail for the rest of us trying to test your patch and include it in the main libseccomp repository.</p>
<h2><a class="anchor" id="autotoc_md7"></a>
Submitting via GitHub</h2>
<p>See <a href="https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/creating-a-pull-request">this guide</a> if you've never done this before. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
